<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
    <div id="div1">
        <ul id="oUl">
            <li id="ali1">1</li>
            <li id="ali2">2</li>
            <li id="ali3">3</li>
            <li id="ali4">4</li>
            <li id="ali5">5</li>
            <li id="ali6">6</li>
        </ul>
    </div>
    <script type="text/javascript">
        var oUl = document.getElementById("oUl");
        var aLi4 = document.getElementById("ali4");
        function elePre(ele){
            //如果浏览器兼容previousElementSibling则执行
            if(ele.previousElementSibling){
                return ele.previousElementSibling;
            }
            //不兼容previousElementSibling则执行
            var preEle = ele.previousSibling; //获取到所有节点
            while(ele && preEle.nodeType != 1){ //元素存在且节点nodetype！=1则将上一节点赋值给preEle 循环执行
                preEle = ele.previousSibling;
            }
            return preEle;
        }
        var preLi = elePre(aLi4);
        console.log(preLi.id);
    </script>
</body>
</html>